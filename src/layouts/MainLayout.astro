---
import Nav from '../components/layout/Nav.astro';
import Footer from '../components/layout/Footer.astro';
import { SEO } from 'astro-seo';

import config from 'config';

const { title, description } = Astro.props;
---

<html lang={config.get('site.languageCode') || 'en'}>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <SEO
      title={title || config.get('site.page_title')}
      description="A heavily optimized description full of well-researched keywords."
    />
    <script is:inline>
      // ☝️ This script prevent the FART effect.
      if (localStorage.getItem('theme') === null) {
        document.documentElement.setAttribute('data-theme', 'dark');
      } else
        document.documentElement.setAttribute(
          'data-theme',
          localStorage.getItem('theme')
        );
    </script>
  </head>
  <body>
    <main class="max-w-3xl mx-auto min-h-screen">
      <Nav />
      <slot />
    </main>
    <Footer />
  </body>
</html>
